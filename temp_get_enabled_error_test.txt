
    [Fact]
    public async Task GetEnabledShouldReturnErrorWhenGetAllFails()
    {
        // Arrange
        _mockSource.Setup(s => s.Load<TestConfiguration>())
            .ReturnsAsync(FdwResult<IEnumerable<TestConfiguration>>.Failure<IEnumerable<TestConfiguration>>("Load failed"));

        // Act
        var result = await _provider.GetEnabled();

        // Assert
        result.ShouldNotBeNull();
        result.IsFailure.ShouldBeTrue();
        result.Message.ShouldBe("Load failed");

        _output.WriteLine($"GetEnabled correctly returned error: {result.Message}");
    }
